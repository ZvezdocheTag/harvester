<!DOCTYPE html>
<html>
  <head>
    <title>ğŸŒªHarvester</title>
    <link rel="stylesheet" href="assets/styles.css">
  </head>
  <body class="page">
    <div class="wrapper">
      <h1>ğŸŒªHarvester</h1>

      <div class="container">
        <div class="aside">
          {{#tasksGroups}}
            {{{.}}}
          {{/tasksGroups}}
        </div>

        <main class="main">
          <div class="status">
            <div class="status__name">Status</div>
            <textarea
              class="status__text"
              placeholder="..."
              ></textarea>
          </div>
          <div class="content"></div>
        </main>
      </div>
    </div>

    <script type="text/javascript" src="assets/socket.js"></script>
    <script type="text/javascript">
      const tasks = document.querySelectorAll('.task');

      tasks.forEach(task => {
        task.addEventListener('click', event => {
          event.preventDefault();

          const taskId = task.dataset.taskid;
          const listId = task.dataset.listid;

          const data = {listId, taskId};
          const dataStr = JSON.stringify(data);
          ws.send(dataStr);
        })
      });
    </script>
  </body>
</html>
